<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messages - Kudil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/owner-theme.css">
    <link rel="stylesheet" href="../../css/dashboard.css">
    <style>
        body {
            overflow-y: auto;
        }
        .messages-container {
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 76px);
        }
    </style>
</head>
<body>
    <!-- Standard Kudil Header -->
    <nav class="navbar navbar-expand-lg fixed-top bg-white">
        <div class="container">
            <a class="navbar-brand" href="dashboard.html">
                <div class="brand-logo">
                    <i class="fas fa-home"></i>
                    <span class="brand-text">kudil</span>
                </div>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a href="dashboard.html" class="nav-link">
                            <i class="fas fa-arrow-left"></i> Back to Dashboard
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Messages Container -->
    <div class="messages-container">
        <div class="container-fluid">
            <div class="row">
                <!-- Conversations List -->
                <div class="col-md-4 col-lg-3 conversations-sidebar">
                    <div class="conversations-header">
                        <h2>Messages</h2>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search conversations...">
                        </div>
                    </div>
                    <div class="conversations-list">
                        <!-- Active Conversation -->
                        <div class="conversation-item active" data-conversation-id="1">
                            <img src="../../images/avatar-placeholder.jpg" alt="Rahul Sharma" class="user-avatar">
                            <div class="conversation-info">
                                <div class="conversation-header">
                                    <h3 class="user-name">Rahul Sharma</h3>
                                    <span class="last-time">2m ago</span>
                                </div>
                                <div class="property-info">
                                    <i class="fas fa-home"></i> Palm Grove Apartments
                                </div>
                                <p class="last-message">Yes, parking is included in the rent...</p>
                            </div>
                        </div>

                        <!-- Other Conversations -->
                        <div class="conversation-item unread" data-conversation-id="2">
                            <img src="../../images/avatar-placeholder.jpg" alt="Priya Patel" class="user-avatar">
                            <div class="conversation-info">
                                <div class="conversation-header">
                                    <h3 class="user-name">Priya Patel</h3>
                                    <span class="last-time">1h ago</span>
                                </div>
                                <div class="property-info">
                                    <i class="fas fa-home"></i> Green Valley Villas
                                </div>
                                <p class="last-message">Is the property still available for...</p>
                            </div>
                        </div>

                        <!-- Empty State (hidden by default) -->
                        <div class="empty-conversations" style="display: none;">
                            <i class="fas fa-comments"></i>
                            <h3>No Messages Yet</h3>
                            <p>When home seekers contact you about your properties, their messages will appear here.</p>
                        </div>
                    </div>
                </div>

                <!-- Chat Window -->
                <div class="col-md-8 col-lg-9 chat-window">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <div class="chat-user-info">
                            <img src="../../images/avatar-placeholder.jpg" alt="Rahul Sharma" class="user-avatar">
                            <div class="user-details">
                                <h3 class="user-name">Rahul Sharma</h3>
                                <div class="property-info">
                                    <i class="fas fa-home"></i> Palm Grove Apartments, Whitefield
                                </div>
                            </div>
                        </div>
                        <div class="chat-actions">
                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#viewProfileModal">
                                <i class="fas fa-user"></i> View Profile
                            </button>
                            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#scheduleVisitModal">
                                <i class="fas fa-calendar"></i> Schedule Visit
                            </button>
                        </div>
                    </div>

                    <!-- Chat Messages -->
                    <div class="chat-messages">
                        <!-- Date Separator -->
                        <div class="date-separator">
                            <span>Today</span>
                        </div>

                        <!-- Received Message -->
                        <div class="message received">
                            <img src="../../images/avatar-placeholder.jpg" alt="Rahul Sharma" class="message-avatar">
                            <div class="message-content">
                                <p>Hi, I'm interested in your 3BHK apartment in Palm Grove. Is parking included in the rent?</p>
                                <span class="message-time">10:30 AM</span>
                            </div>
                        </div>

                        <!-- Sent Message -->
                        <div class="message sent">
                            <div class="message-content">
                                <p>Yes, parking is included in the rent. You get one covered parking spot. Would you like to schedule a visit to see the apartment?</p>
                                <span class="message-time">10:35 AM</span>
                            </div>
                        </div>

                        <!-- Received Message -->
                        <div class="message received">
                            <img src="../../images/avatar-placeholder.jpg" alt="Rahul Sharma" class="message-avatar">
                            <div class="message-content">
                                <p>That's great! Yes, I would love to see the apartment. Is it possible to visit this weekend?</p>
                                <span class="message-time">10:40 AM</span>
                            </div>
                        </div>

                        <!-- Empty State (hidden by default) -->
                        <div class="empty-chat" style="display: none;">
                            <i class="fas fa-comments"></i>
                            <h3>Select a Conversation</h3>
                            <p>Choose a conversation from the list to start messaging.</p>
                        </div>
                    </div>

                    <!-- Chat Input -->
                    <div class="chat-input">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Type your message...">
                            <button class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Visit Modal -->
    <div class="modal fade" id="scheduleVisitModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Schedule Property Visit</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">Select Date</label>
                            <input type="date" class="form-control">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Select Time</label>
                            <select class="form-select">
                                <option>9:00 AM</option>
                                <option>10:00 AM</option>
                                <option>11:00 AM</option>
                                <option>12:00 PM</option>
                                <option>2:00 PM</option>
                                <option>3:00 PM</option>
                                <option>4:00 PM</option>
                                <option>5:00 PM</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Additional Notes</label>
                            <textarea class="form-control" rows="3" 
                                placeholder="Any specific instructions or information..."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Schedule Visit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Profile Modal -->
    <div class="modal fade" id="viewProfileModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Home Seeker Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="profile-header">
                        <img src="../../images/avatar-placeholder.jpg" alt="Rahul Sharma" class="profile-avatar">
                        <h3>Rahul Sharma</h3>
                        <p class="text-muted">Home Seeker</p>
                    </div>
                    <div class="profile-info">
                        <div class="info-item">
                            <label>Occupation</label>
                            <p>Software Engineer</p>
                        </div>
                        <div class="info-item">
                            <label>Looking For</label>
                            <p>2-3 BHK Apartment</p>
                        </div>
                        <div class="info-item">
                            <label>Preferred Locations</label>
                            <p>Whitefield, HSR Layout</p>
                        </div>
                        <div class="info-item">
                            <label>Budget Range</label>
                            <p>₹25,000 - ₹35,000 per month</p>
                        </div>
                        <div class="info-item">
                            <label>Move-in Timeline</label>
                            <p>Within 1 month</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Kudil. All rights reserved.</p>
            <ul class="list-inline">
                <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
                <li class="list-inline-item"><a href="#">Terms of Service</a></li>
                <li class="list-inline-item"><a href="#">Contact Us</a></li>
            </ul>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/messages.js"></script>
</body>
</html>
